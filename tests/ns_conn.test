# -*- Tcl -*-

package require tcltest 2.2
namespace import -force ::tcltest::*

eval ::tcltest::configure $argv

test ns_conn-1.1 {basic syntax: plain call} -body {
     ns_conn
} -returnCodes error -result {wrong # args: should be "ns_conn option"}

test ns_conn-1.2 {basic syntax: wrong argument} -body {
     ns_conn 123
} -returnCodes error -result {bad option "123": must be auth, authpassword, authuser, channel, close, compress, content, contentfile, contentlength, contentsentlength, copy, driver, encoding, fileheaders, filelength, fileoffset, files, flags, form, headers, host, id, isconnected, keepalive, location, method, outputheaders, peeraddr, peerport, port, protocol, query, request, server, sock, start, status, timeout, url, urlc, urlencoding, urlv, version, or zipaccepted}

test ns_conn-2.1 {basic operation} -body {
     ns_conn close
} -returnCodes error -result {no current connection}


cleanupTests
